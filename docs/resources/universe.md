---
page_title: "yba_universe Resource - YugabyteDB Anywhere"
description: |-
  Universe Resource.
---

# yba_universe (Resource)

Universe Resource.

## Example Usage

```terraform
resource "yba_universe" "universe_name" {
  clusters {
    cluster_type = "<cluster-type>"
    user_intent {
      universe_name      = "<universe-name>"
      provider_type      = "<yba_cloud_provider.cloud_provider.code>"
      provider           = "<yba_cloud_provider.cloud_provider.id>"
      region_list        = "<yba_cloud_provider.cloud_provider.regions[*].uuid>"
      num_nodes          = 3
      replication_factor = 3
      instance_type      = "<instance-type>"
      device_info {
        num_volumes  = 1
        volume_size  = 375
        storage_type = "%s"
      }
      use_time_sync       = true
      enable_ysql         = true
      yb_software_version = "<YBDB-version - data.yba_release_version.release_version.id>"
      access_key_code     = "<access-key - data.yba_provider_key.cloud_key.id>"
    }
  }
  communication_ports {}
}
```

The details for configuration are available in the [YugabyteDB Anywhere Create YugabyteDB universe deployments](https://docs.yugabyte.com/preview/yugabyte-platform/create-deployments/) and [YugabyteDB Anywhere Manage YugabyteDB universe deployments](https://docs.yugabyte.com/preview/yugabyte-platform/manage-deployments/).

~> **Disclaimer:** Please note that adding read replica clusters after universe creation currently not supported.

~> **Disclaimer:** Please note that data move to a different *zone* is currently not supported.

The following operations are supported in the Edit universe workflow:

1. Software upgrades
1. GFlags upgrades
1. Upgrade to systemD
1. Toggle TLS settings
1. Editing cluster parameters
    1. Instance type
    1. Number of Nodes
    1. Number of Volumes per instance
    1. Volume Size
    1. User Tags
1. Delete read replicas (Adding read replica after universe creation currently not supported)

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `clusters` (Block List, Min: 1) (see [below for nested schema](#nestedblock--clusters))

### Optional

- `client_root_ca` (String) The UUID of the clientRootCA to be used to generate client certificates and facilitate TLS communication between server and client.
- `communication_ports` (Block List, Max: 1) Communication ports. (see [below for nested schema](#nestedblock--communication_ports))
- `delete_options` (Block List, Max: 1) (see [below for nested schema](#nestedblock--delete_options))
- `timeouts` (Block, Optional) (see [below for nested schema](#nestedblock--timeouts))

### Read-Only

- `id` (String) The ID of this resource.

<a id="nestedblock--clusters"></a>
### Nested Schema for `clusters`

Required:

- `cluster_type` (String) Cluster Type. Permitted values: PRIMARY, ASYNC.
- `user_intent` (Block List, Min: 1, Max: 1) Configuration values used in universe creation. Only these values can be updated. (see [below for nested schema](#nestedblock--clusters--user_intent))

Optional:

- `cloud_list` (Block List) Cloud, region, and zone placement information for the universe. (see [below for nested schema](#nestedblock--clusters--cloud_list))

Read-Only:

- `uuid` (String) Cluster UUID.

<a id="nestedblock--clusters--user_intent"></a>
### Nested Schema for `clusters.user_intent`

Required:

- `access_key_code` (String) Access Key code of provider.
- `device_info` (Block List, Min: 1, Max: 1) Configuration values associated with the machines used for this universe. (see [below for nested schema](#nestedblock--clusters--user_intent--device_info))
- `instance_type` (String) Instance type of universe nodes.
- `num_nodes` (Number) Number of nodes for this universe.
- `provider` (String) Provider UUID.
- `provider_type` (String) Cloud Provider type. Permitted values: gcp, aws, azu, onprem.
- `region_list` (List of String) List of regions for node placement.
- `replication_factor` (Number) Replicated factor for this universe.
- `universe_name` (String) Universe name.
- `yb_software_version` (String) YBDB version of the universe.

Optional:

- `assign_public_ip` (Boolean) Assign Public IP to universe nodes. True by default.
- `assign_static_ip` (Boolean) Flag indicating whether a static IP should be assigned.
- `aws_arn_string` (String) IP ARN String.
- `enable_client_to_node_encrypt` (Boolean) Enable Encryption in Transit - Client to Node encryption. True by default.
- `enable_exposing_service` (String) Flag to use if we need to deploy a loadbalancer/some kind of exposing service for the cluster.
- `enable_ipv6` (Boolean) Enable IPv6.
- `enable_node_to_node_encrypt` (Boolean) Enable Encryption in Transit - Node to Node encryption. True by default.
- `enable_volume_encryption` (Boolean) Enable Encryption At Rest. False by default.
- `enable_ycql` (Boolean) Enable YCQL. False by default.
- `enable_ycql_auth` (Boolean) Enable YCQL authentication.
- `enable_yedis` (Boolean) Enable YEDIS. False by default.
- `enable_ysql` (Boolean) Enable YSQL. True by default.
- `enable_ysql_auth` (Boolean) Enable YSQL authentication.
- `instance_tags` (Map of String) Instance Tags.
- `master_gflags` (Map of String) Set of Master GFlags.
- `preferred_region` (String) Preferred Region for node placement.
- `tserver_gflags` (Map of String) Set of TServer Gflags.
- `use_host_name` (Boolean) Enable to use host name instead of IP addresses to communicate.
- `use_systemd` (Boolean) Enable Systemd in universe nodes. True by default.
- `use_time_sync` (Boolean) Enable time sync. True by default.
- `ycql_password` (String) YCQL auth password.
- `ysql_password` (String) YSQL auth password.

<a id="nestedblock--clusters--user_intent--device_info"></a>
### Nested Schema for `clusters.user_intent.device_info`

Required:

- `num_volumes` (Number) Number of volumes per node.
- `volume_size` (Number) Volume size.

Optional:

- `disk_iops` (Number) Disk IOPS.
- `mount_points` (String) Disk mount points. Required for onprem cluster nodes.
- `storage_class` (String) Storage class.
- `storage_type` (String) Storage type of volume.
- `throughput` (Number) Disk throughput.



<a id="nestedblock--clusters--cloud_list"></a>
### Nested Schema for `clusters.cloud_list`

Optional:

- `code` (String) Cloud provider code.
- `region_list` (Block List) (see [below for nested schema](#nestedblock--clusters--cloud_list--region_list))
- `uuid` (String) Cloud Provider UUID.

<a id="nestedblock--clusters--cloud_list--region_list"></a>
### Nested Schema for `clusters.cloud_list.region_list`

Optional:

- `az_list` (Block List) (see [below for nested schema](#nestedblock--clusters--cloud_list--region_list--az_list))
- `code` (String) Region Code.
- `uuid` (String) Region UUID.

<a id="nestedblock--clusters--cloud_list--region_list--az_list"></a>
### Nested Schema for `clusters.cloud_list.region_list.az_list`

Optional:

- `name` (String) Zone name.
- `num_nodes` (Number) Number of nodes in this zone.
- `replication_factor` (Number) Replication factor in this zone.
- `secondary_subnet` (String) Secondary subnet of the zone.
- `subnet` (String) Subnet ID of zone.
- `uuid` (String) Zone UUID.

Read-Only:

- `is_affinitized` (Boolean) Is it an affinitized zone.





<a id="nestedblock--communication_ports"></a>
### Nested Schema for `communication_ports`

Optional:

- `master_http_port` (Number)
- `master_rpc_port` (Number)
- `node_exporter_port` (Number)
- `redis_server_http_port` (Number)
- `redis_server_rpc_port` (Number)
- `tserver_http_port` (Number)
- `tserver_rpc_port` (Number)
- `yql_server_http_port` (Number)
- `yql_server_rpc_port` (Number)
- `ysql_server_http_port` (Number)
- `ysql_server_rpc_port` (Number)


<a id="nestedblock--delete_options"></a>
### Nested Schema for `delete_options`

Optional:

- `delete_backups` (Boolean) Flag indicating whether the backups should be deleted with the universe. False by default.
- `delete_certs` (Boolean) Flag indicating whether the certificates should be deleted with the universe. False by default.
- `force_delete` (Boolean) Force delete universe with errors. False by default.


<a id="nestedblock--timeouts"></a>
### Nested Schema for `timeouts`

Optional:

- `create` (String)
- `delete` (String)
- `update` (String)