---
page_title: "yba_storage_config_resource Resource - YugabyteDB Anywhere"
description: |-
  Create Storage Configurations
  Requires AWSACCESSKEYID, AWSSECRETACCESSKEY env variables to be set for S3 storage config.
  Requires GOOGLEAPPLICATIONCREDENTIALS env variable for GCS storage config
  Requires AZURESTORAGESAS_TOKEN env variable for Azure storage config
---

# yba_storage_config_resource (Resource)

Create Storage Configurations
Requires AWS_ACCESS_KEY_ID, AWS_SECRET_ACCESS_KEY env variables to be set for S3 storage config.
Requires GOOGLE_APPLICATION_CREDENTIALS env variable for GCS storage config
Requires AZURE_STORAGE_SAS_TOKEN env variable for Azure storage config

The following credentials are required as environment variables to configure the corresponding Backup storage configurations:

|Cloud Provider|Setting|Environment Variable|
|-------|--------|-------------------------------|
|[S3](https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-envvars.html)|||
||Access Key ID|`AWS_ACCESS_KEY_ID`|
||Secret Access Key|`AWS_SECRET_ACCESS_KEY`|
|[GCS](https://cloud.google.com/docs/authentication/application-default-credentials)|||
|| GCP Service Account Credentials File Path|`GOOGLE_APPLICATION_CREDENTIALS`|
|[Azure](https://learn.microsoft.com/en-us/azure/developer/go/azure-sdk-authentication?tabs=bash)|||
||Azure Storage SAS Token|`AZURE_STORAGE_SAS_TOKEN`|

-> **Note:** S3 Environment variables are not required for IAM based S3 storage configurations. Please set *use_iam_instance_profile* to use host IAM configuration for S3 storage configurations.

## Example Usage

```terraform
resource "yba_storage_config_resource" "storage_config" {
  name            = "<storage-config-code>"
  backup_location = "<storage-location/bucket-location>"
  config_name     = "<storage-config-name>"
}
```

The details for configuration are available in the [YugabyteDB Anywhere Configure Backup Target Documentation](https://docs.yugabyte.com/preview/yugabyte-platform/configure-yugabyte-platform/backup-target/).

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `backup_location` (String) Backup Location
- `config_name` (String) Name of the Storage Configuration
- `name` (String) Name of config provider. Allowed values: S3, GCS, NFS, AZ

### Optional

- `timeouts` (Block, Optional) (see [below for nested schema](#nestedblock--timeouts))
- `use_iam_instance_profile` (Boolean) Use IAM Role from the YugabyteDB Anywhere Host for S3. Storage configuration creation will fail on insufficient permissions on the host. Fasle by default.

### Read-Only

- `data` (Map of String) Location and Credentials
- `id` (String) The ID of this resource.

<a id="nestedblock--timeouts"></a>
### Nested Schema for `timeouts`

Optional:

- `create` (String)
- `delete` (String)
- `update` (String)

## Import

Storage configurations can be imported using `storage configuration uuid`:

```sh
terraform import yba_storage_config_resource.storage_config <storage configuration uuid>
```
