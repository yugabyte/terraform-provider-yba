---
page_title: "yba_onprem_node_instance Resource - YugabyteDB Anywhere"
description: |-
  Resource to add node instances to an on-premises provider.
---

# yba_onprem_node_instance (Resource)

Resource to add node instances to an on-premises provider.

For information on adding node instances to on-premises providers, refer to [Add instances to on-premises providers](https://docs.yugabyte.com/preview/yugabyte-platform/configure-yugabyte-platform/set-up-cloud-provider/on-premises/#add-instances).

~> **Warning:** YugabyteDB Anywhere Terraform Provider currently provides a standalone On-Premises Node Instance (*yba_onprem_node_instance*) resource, and allows Node Instances to be defined in-line in the On-Premises Provider (*yba_onprem_provider*) resource. Currently, you can't use an On-Premises Provider with in-line Node Instances in conjunction with any On-Premises Node Instance resources. Doing so will cause a conflict and might result in removal of nodes managed by the provider.

On-premises nodes are automatically deleted when their provider is deleted. The following error is thrown by the *yba_onprem_node_instance* resource when its provider is deleted:
```
Error: Resource: Onprem Node Instance, Operation: Get - 400 Bad Request: Invalid node UUID: <node-uuid>
```

## Example Usage

```terraform
resource "yba_onprem_node_instance" "onprem" {
    provider_uuid = "<onprem-provider-uuid>"
    instance_type = "<instance-type-name>"
    ip            = "<node-ip-instance>"
    region        = "<region-name>"
    zone          = "<zone-name>" 
}

resource "yba_onprem_node_instance" "onprem" {
    provider_name = "<onprem-provider-name>"
    instance_type = "<instance-type-name>"
    ip            = "<node-ip-instance>"
    region        = "<region-name>"
    zone          = "<zone-name>" 
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `instance_type` (String) Node instance type.
- `ip` (String) IP address of node.
- `region` (String) Region of node.
- `zone` (String) Zone of node.

### Optional

- `in_use` (Boolean) Is the node used in a universe.
- `instance_name` (String) Node instance name provided by the user.
- `node_configs` (Block List) Node Configurations. (see [below for nested schema](#nestedblock--node_configs))
- `node_name` (String) Node name allocated during universe creation.
- `provider_name` (String) Name of the On-Premises Provider for the node. At least one of provider_uuid or provider_name is required.
- `provider_uuid` (String) UUID of the On-Premises Provider for the node. At least one of provider_uuid or provider_name is required.
- `ssh_user` (String) SSH user.
- `timeouts` (Block, Optional) (see [below for nested schema](#nestedblock--timeouts))

### Read-Only

- `details_json` (String) Node details.
- `id` (String) The ID of this resource.
- `instance_type_code` (String) Node instance type code.
- `zone_uuid` (String) Zone UUID of node.

<a id="nestedblock--node_configs"></a>
### Nested Schema for `node_configs`

Required:

- `type` (String) Type of node configurations. For example: SSH_PORT("SSH port is open"), NODE_AGENT_ACCESS("Reachability of node agent server")
- `value` (String) Value of node configuration.


<a id="nestedblock--timeouts"></a>
### Nested Schema for `timeouts`

Optional:

- `create` (String)
- `delete` (String)
