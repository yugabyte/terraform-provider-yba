---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "yba_cloud_provider Resource - terraform-provider-yba"
subcategory: ""
description: |-
  Cloud Provider Resource
---

# yba_cloud_provider (Resource)

Cloud Provider Resource.

The following credentials are required as environment variables to configure the corresponding Cloud Providers:

|Cloud Provider|Setting|Environment Variable|
|-------|--------|-------------------------------|
|[AWS](https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-envvars.html)|||
||Access Key ID|`AWS_ACCESS_KEY_ID`|
||Secret Access Key|`AWS_SECRET_ACCESS_KEY`|
|[GCP](https://cloud.google.com/docs/authentication/application-default-credentials)|||
|| GCP Service Account Credentials File Path|`GOOGLE_APPLICATION_CREDENTIALS`|
|[Azure](https://learn.microsoft.com/en-us/azure/developer/go/azure-sdk-authentication?tabs=bash)|||
||Active Subscription ID|`AZURE_SUBSCRIPTION_ID`|
||Resource Group|`AZURE_RG`|
||Tenant ID|`AZURE_TENANT_ID`|
||Client ID|`AZURE_CLIENT_ID`|
||Client Secret|`AZURE_CLIENT_SECRET`|

-> **Note:** AWS Environment variables are not required for IAM based AWS cloud providers. Please set *aws_config_settings.use_iam_instance_profile* to use host IAM configuration for AWS cloud providers.

## Example Usage

```terraform
resource "yba_cloud_provider" "cloud_provider" {
  code        = "<code>"
  dest_vpc_id = "<vpc-network>"
  name        = "<cloud-provider-name>"
  regions {
    code = "<region-code>"
    name = "<region-name>"
  }
  ssh_port        = 22
  air_gap_install = false
}
```

The details for configuration are available in the [YugabyteDB Anywhere Configure Cloud Provider Documentation](https://docs.yugabyte.com/preview/yugabyte-platform/configure-yugabyte-platform/set-up-cloud-provider/aws/).

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- **code** (String) Code of the cloud provider. Permitted values: gcp, aws, azu.
- **name** (String) Name of the provider.
- **regions** (Block List, Min: 1) Regions associated with cloud providers. (see [below for nested schema](#nestedblock--regions))

### Optional

- **air_gap_install** (Boolean) Flag indicating if the universe should use an air-gapped installation.
- **aws_config_settings** (Block List, Max: 1) Settings that can be configured for AWS. (see [below for nested schema](#nestedblock--aws_config_settings))
- **azure_config_settings** (Block List, Max: 1) Settings that can be configured for Azure. (see [below for nested schema](#nestedblock--azure_config_settings))
- **dest_vpc_id** (String) Destination VPC network.
- **gcp_config_settings** (Block List, Max: 1) Settings that can be configured for GCP. (see [below for nested schema](#nestedblock--gcp_config_settings))
- **host_vpc_id** (String) Host VPC Network.
- **host_vpc_region** (String) Host VPC Region.
- **id** (String) The ID of this resource.
- **key_pair_name** (String) Access Key Pair name.
- **ssh_port** (Number) Port to use for ssh commands.
- **ssh_private_key_content** (String) Private key to use for ssh commands.
- **ssh_user** (String) User to use for ssh commands.
- **timeouts** (Block, Optional) (see [below for nested schema](#nestedblock--timeouts))

### Read-Only

- **config** (Map of String) Configuration values to be set for the provider. AWS_ACCESS_KEY_ID, AWS_SECRET_ACCESS_KEY must be set for AWS providers. The contents of your google credentials must be included here for GCP providers. AZURE_SUBSCRIPTION_ID, AZURE_RG, AZURE_TENANT_ID, AZURE_CLIENT_ID, AZURE_CLIENT_SECRET must be set for AZURE providers.

<a id="nestedblock--regions"></a>

### Nested Schema for `regions`

Optional:

- **code** (String) Region code. Varies by cloud provider.
- **config** (Map of String) Config details corresponding to region.
- **latitude** (Number) Latitude of the region.
- **longitude** (Number) Longitude of the region.
- **name** (String) Name of the region. Varies by cloud provider.
- **security_group_id** (String) Security group ID to use for this region. Only set for AWS/Azure providers.
- **vnet_name** (String) Name of the virtual network/VPC ID to use for this region. Only set for AWS/Azure providers.
- **yb_image** (String) AMI to be used in this region.
- **zones** (Block List) Zones associated with the region. (see [below for nested schema](#nestedblock--regions--zones))

Read-Only:

- **uuid** (String) Region UUID.

<a id="nestedblock--regions--zones"></a>

### Nested Schema for `regions.zones`

Optional:

- **code** (String) Code of the zone. Varies by cloud provider.
- **config** (Map of String) Configuration details corresponding to zone.
- **name** (String) Name of the zone. Varies by cloud provider.
- **secondary_subnet** (String) The secondary subnet in the AZ.
- **subnet** (String) Subnet to use for this zone.

Read-Only:

- **active** (Boolean) Flag indicating if the zone is active.
- **kube_config_path** (String) Path to Kubernetes configuration file.
- **uuid** (String) Zone UUID.

<a id="nestedblock--aws_config_settings"></a>

### Nested Schema for `aws_config_settings`

Optional:

- **hosted_zone_id** (String) Hosted Zone ID for AWS corresponsding to Amazon Route53.
- **use_iam_instance_profile** (Boolean) Use IAM Role from the YugabyteDB Anywhere Host. Provider creation will fail on insufficient permissions on the host. False by default.


<a id="nestedblock--azure_config_settings"></a>

### Nested Schema for `azure_config_settings`

Optional:

- **hosted_zone_id** (String) Private DNS Zone for Azure.

<a id="nestedblock--gcp_config_settings"></a>

### Nested Schema for `gcp_config_settings`

Optional:

- **network** (String) VPC network name in GCP.
- **project_id** (String) Project ID that hosts universe nodes in GCP.
- **use_host_credentials** (Boolean) Enabling Host Credentials in GCP.
- **use_host_vpc** (Boolean) Enabling Host VPC in GCP.
- **yb_firewall_tags** (String) Tags for firewall rules in GCP.

<a id="nestedblock--timeouts"></a>

### Nested Schema for `timeouts`

Optional:

- **create** (String)
- **delete** (String)

## Import

Cloud Providers can be imported using `cloud provider uuid`:

```sh
terraform import yba_cloud_provider.cloud_provider <cloud-provider-uuid>
```
